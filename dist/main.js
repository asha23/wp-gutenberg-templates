!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t){var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=wp.data,i=a.select,o=a.subscribe,r=a.dispatch,l=wp.components.Button,c=wp.i18n.__,s=wp.apiRequest,u=wp.blocks,p=u.synchronizeBlocksWithTemplate,m=u.doBlocksMatchTemplate;new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.previousTemplate=null,this.template=null,o(this.subscribe.bind(this))}return n(e,[{key:"subscribe",value:function(){var e=i("core/editor").getEditedPostAttribute("template");e!==this.template&&(this.previousTemplate=this.template,this.template=e,e?this.changeTemplate():null!==this.previousTemplate&&r("core/editor").updateEditorSettings({templateLock:!1}))}},{key:"changeTemplate",value:function(){var e=this,t=r("core/editor"),n=t.resetBlocks,a=t.createWarningNotice,o=t.editPost,u=t.removeNotice,f=t.updateEditorSettings,d=i("core/editor").getBlocks();s({path:"/gutenberg-templates/v1/template",data:{template:this.template}}).then(function(t){var i=t.template,r=t.template_lock,s=function(){n(p(d,i)),f({templateLock:r})};!d.length||m(d,i)?s():e.wasDefaultTemplate()&&a(React.createElement("div",{className:"editor-template-validation-notice"},React.createElement("p",null,c("The content of your post doesn't match the assigned template.")),React.createElement("div",null,React.createElement(l,{isDefault:!0,onClick:function(){"all"===r&&o({template:e.previousTemplate}),u("SYNCHRONIZE_TEMPLATE_NOTICE_ID")}},c("Keep it as is")),React.createElement(l,{onClick:function(){window.confirm(c("Resetting the template may result in loss of content, do you want to continue?"))&&s(),u("SYNCHRONIZE_TEMPLATE_NOTICE_ID")},isPrimary:!0},c("Reset the template")))),{isDismissible:!1,id:"SYNCHRONIZE_TEMPLATE_NOTICE_ID"})})}},{key:"wasDefaultTemplate",value:function(){return""===this.previousTemplate}}]),e}())}]);