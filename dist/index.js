!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=(n.n(i),n(3)),a=(n.n(o),n(4)),r=(n.n(a),n(5)),c=n.n(r),l=n(6),s=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.previousTemplate=null,this.template=null,this.initialLoad=!0,Object(i.subscribe)(function(){t.initialLoad=!1,t.subscribe()}),this.subscribe()}return s(e,[{key:"subscribe",value:function(){var e=Object(i.select)("core/editor").getEditedPostAttribute("template");e!==this.template&&(this.previousTemplate=this.template,this.template=e,e?this.changeTemplate():null!==this.previousTemplate&&Object(i.dispatch)("core/editor").updateEditorSettings({templateLock:!1}))}},{key:"changeTemplate",value:function(){var e=this,t=Object(i.dispatch)("core/editor"),n=t.resetBlocks,r=t.createWarningNotice,s=t.editPost,u=t.removeNotice,p=t.updateEditorSettings,m=Object(i.select)("core/editor").getBlocks();c()({path:"/gutenberg-templates/v1/template",data:{template:this.template}}).then(function(t){var i=t.template,c=t.template_lock,f=function(){n(Object(l.synchronizeBlocksWithTemplate)(m,i)),p({templateLock:c})};!m.length||Object(l.doBlocksMatchTemplate)(m,i)?f():e.wasDefaultTemplate()&&r(React.createElement("div",{className:"editor-template-validation-notice"},React.createElement("p",null,Object(a.__)("The content of your post doesn't match the assigned template.","wp-gutenberg-templates")),React.createElement("div",null,React.createElement(o.Button,{isDefault:!0,onClick:function(){"all"===c&&s({template:e.previousTemplate}),u("SYNCHRONIZE_TEMPLATE_NOTICE_ID")}},Object(a.__)("Keep it as is","wp-gutenberg-templates")),React.createElement(o.Button,{onClick:function(){window.confirm(Object(a.__)("Resetting the template may result in loss of content, do you want to continue?","wp-gutenberg-templates"))&&f(),u("SYNCHRONIZE_TEMPLATE_NOTICE_ID")},isPrimary:!0},Object(a.__)("Reset the template","wp-gutenberg-templates")))),{isDismissible:!1,id:"SYNCHRONIZE_TEMPLATE_NOTICE_ID"})})}},{key:"wasDefaultTemplate",value:function(){return""===this.previousTemplate&&!this.initialLoad}}]),e}())},function(e,t){e.exports=wp.data},function(e,t){e.exports=wp.components},function(e,t){e.exports=wp.i18n},function(e,t){e.exports=wp.apiRequest},function(e,t){e.exports=wp.blocks}]);